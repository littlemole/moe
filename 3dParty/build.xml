<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

 <Import Project="..\master.props" />
 <ItemGroup>
  <objFiles Include=".\scintilla\win32\*.o" />
 </ItemGroup>


 <Target Name="Build">

        <MSBuild BuildInParallel="$(BuildInParallel)" Projects="expat\Source\lib\build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)"/>
        <MSBuild BuildInParallel="$(BuildInParallel)" Projects="pcre/build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)"/>
		

	<Exec Command="nmake -f win32\Makefile.msc clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' " />
	<Exec Command="nmake -f win32\Makefile.mscd clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f win32\Makefile.msc64 clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f win32\Makefile.mscd64 clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' " />

	<Exec Command="nmake -f win32\Makefile.msc" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f win32\Makefile.mscd" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f win32\Makefile.msc64" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f win32\Makefile.mscd64" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />

	<Delete Files="@(objFiles)" />


	<Exec Command="nmake -f scintilla-static.mak clean" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f scintilla-static.mak clean DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f scintilla-static64.mak clean" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f scintilla-static64.mak clean DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />
	

	<Exec Command="nmake -f deps.mak" WorkingDirectory=".\scintilla\win32" />
	<Exec Command="nmake -f scintilla-static.mak" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f scintilla-static.mak DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f scintilla-static64.mak" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f scintilla-static64.mak DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />


	<Exec Command="perl Configure VC-WIN32" WorkingDirectory=".\openssl"  Condition=" '$(Platform)' == 'Win32' "/>
	<Exec Command="perl Configure VC-WIN64A" WorkingDirectory=".\openssl"  Condition=" '$(Platform)' == 'x64' "/>
	<Exec Command="call ms\do_ms" WorkingDirectory=".\openssl"  Condition=" '$(Platform)' == 'Win32' "/>
	<Exec Command="call ms\do_win64a" WorkingDirectory=".\openssl"  Condition=" '$(Platform)' == 'x64' "/>


	<Exec Command="nmake -f ms\ntmoe.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f ms\ntd.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f ms\nt64.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f ms\ntd64.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />


	
	<Exec Command="nmake -f ms\ntmoe.mak" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f ms\ntd.mak" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f ms\nt64.mak" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f ms\ntd64.mak" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />
	
	<ItemGroup>
	 <TmpFiles Include=".\openssl\tmp32\.gitignore;.\openssl\tmp64\.gitignore;.\openssl\tmp64D\.gitignore;.\openssl\out32\.gitignore;.\openssl\out32D\.gitignore;.\openssl\out64\.gitignore;.\openssl\out64D\.gitignore;" />
	</ItemGroup>
    
    <Touch Files="@(TmpFiles)" AlwaysCreate="true"/>
                               
    <MSBuild Projects="libssh/build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)"/>

 </Target>


 <Target Name="Clean">

        <MSBuild Projects="expat\Source\lib\build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)" Targets="Clean" />
        <MSBuild Projects="pcre/build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)" Targets="Clean" />

	<Exec Command="nmake -f win32\Makefile.msc clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' " />
	<Exec Command="nmake -f win32\Makefile.mscd clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f win32\Makefile.msc64 clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f win32\Makefile.mscd64 clean" WorkingDirectory=".\zlib" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' " />

	<Exec Command="nmake -f scintilla-static.mak clean" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f scintilla-static.mak clean DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f scintilla-static64.mak clean" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f scintilla-static64.mak clean DEBUG=1" WorkingDirectory=".\scintilla\win32" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />
		
	<Delete Files="@(objFiles)" />

	<Exec Command="nmake -f ms\ntmoe.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|Win32' "  />
	<Exec Command="nmake -f ms\ntd.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|Win32' "  />
	<Exec Command="nmake -f ms\nt64.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_release|x64' "  />
	<Exec Command="nmake -f ms\ntd64.mak clean" WorkingDirectory=".\openssl" Condition=" '$(Configuration)|$(Platform)' == 'uni_debug|x64' "  />

	<MSBuild Projects="libssh/build.xml" Properties="Configuration=$(Configuration);Platform=$(Platform)" Targets="Clean" />

	<ItemGroup>
	 <TmpFiles Include=".\openssl\tmp32\.gitignore;.\openssl\tmp64\.gitignore;.\openssl\tmp64D\.gitignore;.\openssl\out32\.gitignore;.\openssl\out32D\.gitignore;.\openssl\out64\.gitignore;.\openssl\out64D\.gitignore;" />
	</ItemGroup>
    
    <Touch Files="@(TmpFiles)" AlwaysCreate="true"/>
 </Target>

</Project>
